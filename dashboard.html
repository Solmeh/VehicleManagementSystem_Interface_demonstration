<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>儀表板 - 車輛管理系統</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div id="navbar-placeholder"></div>

    <div class="container-fluid mt-4">
        <header class="d-flex justify-content-between align-items-center mb-4">
            <h2>儀表板</h2>
            <div class="d-none d-md-block">
                <span class="text-muted">今天是:</span>
                <span id="current-date" class="fw-bold"></span>
            </div>
        </header>

        <!-- 核心指標 -->
        <div class="row g-4 mb-4">
            <div class="col-md-3">
                <div class="card text-bg-primary h-100">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center">
                            <h5 class="card-title mb-0">今日銷售額</h5>
                            <i class="bi bi-cash-coin fs-2"></i>
                        </div>
                        <p class="card-text fs-3 mt-2">RM 12,800</p>
                        <a href="report_sales.html" class="stretched-link text-white">查看詳情</a>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card text-bg-success h-100">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center">
                            <h5 class="card-title mb-0">可用車輛數</h5>
                            <i class="bi bi-car-front-fill fs-2"></i>
                        </div>
                        <p class="card-text fs-3 mt-2">42</p>
                        <a href="vehicles.html" class="stretched-link text-white">查看庫存</a>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card text-bg-warning h-100">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center">
                            <h5 class="card-title mb-0">待處理維修</h5>
                            <i class="bi bi-tools fs-2"></i>
                        </div>
                        <p class="card-text fs-3 mt-2">8</p>
                        <a href="maintenance_orders.html" class="stretched-link text-dark">前往處理</a>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card text-bg-info h-100">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center">
                            <h5 class="card-title mb-0">待追蹤貸款</h5>
                            <i class="bi bi-bank fs-2"></i>
                        </div>
                        <p class="card-text fs-3 mt-2">3</p>
                        <a href="finance_loans.html" class="stretched-link text-white">查看列表</a>
                    </div>
                </div>
            </div>
        </div>

        <div class="row g-4">
            <!-- 快速操作 -->
            <div class="col-md-4">
                <div class="card h-100">
                    <div class="card-header">
                        <h5 class="card-title mb-0"><i class="bi bi-lightning-charge-fill me-2"></i>快速操作</h5>
                    </div>
                    <div class="card-body">
                        <div class="d-grid gap-3">
                            <a href="sale_detail.html?new=true" class="btn btn-primary btn-lg"><i class="bi bi-plus-circle me-2"></i>新增銷售</a>
                            <a href="vehicles.html#add-new" class="btn btn-success btn-lg"><i class="bi bi-car-front me-2"></i>新增車輛</a>
                            <a href="customers.html#add-new" class="btn btn-info btn-lg text-white"><i class="bi bi-person-plus me-2"></i>新增客戶</a>
                            <a href="maintenance_order_detail.html" class="btn btn-secondary btn-lg"><i class="bi bi-wrench-adjustable-circle me-2"></i>新增維修工單</a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 最近活動 -->
            <div class="col-md-8">
                <div class="card h-100">
                    <div class="card-header">
                        <h5 class="card-title mb-0"><i class="bi bi-activity me-2"></i>最近活動</h5>
                    </div>
                    <div class="card-body p-0">
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                <div><i class="bi bi-check-circle-fill text-success me-2"></i> <strong>[銷售]</strong> 訂單 #20240808-01 已完成。</div>
                                <span class="text-muted small">15 分鐘前</span>
                            </li>
                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                <div><i class="bi bi-person-plus-fill text-info me-2"></i> <strong>[客戶]</strong> 新客戶 "Ahmad bin Abdullah" 已新增。</div>
                                <span class="text-muted small">45 分鐘前</span>
                            </li>
                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                <div><i class="bi bi-car-front-fill text-primary me-2"></i> <strong>[庫存]</strong> 車輛 "Proton X70" (VBE1234) 狀態更新為 "已預訂"。</div>
                                <span class="text-muted small">1 小時前</span>
                            </li>
                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                <div><i class="bi bi-tools text-warning me-2"></i> <strong>[維修]</strong> 維修單 #M-1024 狀態更新為 "進行中"。</div>
                                <span class="text-muted small">3 小時前</span>
                            </li>
                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                <div><i class="bi bi-exclamation-triangle-fill text-danger me-2"></i> <strong>[系統]</strong> 使用者 "sales_user" 登入失敗。</div>
                                <span class="text-muted small">4 小時前</span>
                            </li>
                             <li class="list-group-item d-flex justify-content-between align-items-center">
                                <div><i class="bi bi-check-circle-fill text-success me-2"></i> <strong>[銷售]</strong> 訂單 #20240807-05 已完成。</div>
                                <span class="text-muted small">昨天</span>
                            </li>
                        </ul>
                    </div>
                    <div class="card-footer text-center">
                        <a href="#">查看所有活動</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/load-navbar.js"></script>
    <script>
        // 簡單的日期腳本
        document.addEventListener('DOMContentLoaded', function() {
            const dateElement = document.getElementById('current-date');
            if(dateElement) {
                const today = new Date();
                const options = { year: 'numeric', month: 'long', day: 'numeric', weekday: 'long' };
                dateElement.textContent = today.toLocaleDateString('zh-Hant', options);
            }
        });
    </script>
</body>
</html>
